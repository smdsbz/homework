<!DOCTYPE html>
<html>
	<head>
		<link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
		<link type="text/css" rel="stylesheet" href="../static/css/materialize.css"  media="screen,projection"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<title>HR系统_demo</title>
		<meta name="theme-color" content="#33691E">
	</head>

	<body>
		<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
		<script type="text/javascript" src="../static/js/materialize.min.js"></script>

		<main>
			<div class="navbar-fixed">
				<nav>
				  <div class="nav-wrapper light-green darken-4">
					<a href="#" class="brand-logo"><img src="" style="width:1em; height:1em;" alt="something to fill in"/>HR系统_demo</a>
				  </div>
				</nav>
			</div>

			<div class="container">
				<!-- don'no how 2 let <div> auto-fit -->
				<br><br>
				<div class="row">
					<form class="col s12 m8 offset-m2 l8 offset-l2" action="/update/{{ id }}" method="post">
						<h5 class="center">信息更变</h5>
						<div class="row">
							<div class="progress col s6 offset-s3">
								<div class="determinate" style="width:100%"></div>
							</div>
						</div>
						<div class="input-field col s12">
							<input name="name" type="text" class="validate" value="{{ database[0][1] }}">
							<label for="name">姓名</label>
						</div>
						<div class="col s12">
							<p>性别&nbsp;&nbsp;
							  <input name="gender" type="radio" id="m" class="with-gap" value="男"/>
							  <label for="m">男</label>
							  <input name="gender" type="radio" id="f" class="with-gap" value="女"/>
							  <label for="f">女</label>
							</p>
						</div>
						<div class="input-field col s12">
							<input name="qq" type="tel" class="validate" value="{{ database[0][3] }}">
							<label for="qq">QQ</label>
						</div>
						<div class="input-field col s12">
							<input name="tel" type="tel" class="validate" value="{{ database[0][4] }}">
							<label for="tel">电话</label>
						</div>
						<div class="input-field col s12">
							<input name="wchat" type="text" class="validate" value="{{ database[0][5] }}">
							<label for="wchat">微信</label>
						</div>
						<div class="input-field col s12">
							<input name="emg" type="text" class="validate" value="{{ database[0][6] }}">
							<label for="emg">应急联系方式</label>
						</div>
						<div class="progress col s6 offset-s3">
							<div class="determinate" style="width:100%"></div>
						</div>
						<div class="input-field col s12">
							<input name="school" type="text" class="validate" value="{{ database[0][7] }}">
							<label for="school">院系</label>
						</div>
						<div class="input-field col s12">
							<input name="class" type="text" class="validate" value="{{ database[0][8] }}">
							<label for="class">班级</label>
						</div>
						<div class="input-field col s12">
							<input name="apart" type="text" class="validate" value="{{ database[0][9] }}">
							<label for="apart">寝室（格式：公寓-楼栋号-房间号）</label>
						</div>
						<div class="progress col s6 offset-s3">
							<div class="determinate" style="width:100%"></div>
						</div>
						<div class="col s12">
							<select name="depart">
						      <option value="" disabled selected>部门</option>
						      <option value="财务部" id="fun">财务部</option>
						      <option value="秘书部" id="sec">秘书部</option>
						      <option value="人力资源部" id="hr">人力资源部</option>
							  <option value="社团部" id="clb">社团部</option>
							  <option value="行政监察部" id="sup">行政监察部</option>
							  <option value="外联部" id="out">外联部</option>
							  <option value="公共关系部" id="pr">公共关系部</option>
							  <option value="宣传部" id="pub">宣传部</option>
							  <option value="媒体部" id="med">媒体部</option>
							  <option value="思存工作室" id="sicun">思存工作室</option>
							  <option value="新媒体工作室" id="nmed">新媒体工作室</option>
							  <option value="社团外联企划小组" id="cop">社团外联企划小组</option>
							  <option value="文艺拓展部" id="ext">文艺拓展部</option>
							  <option value="其它" id="o">其它</option>
						    </select>
						    <!--label>Materialize Select</label-->
						</div>
						<div class="input-field col s12 m6">
							<input name="group" type="text" class="validate" value="{{ database[0][11] }}">
							<label for="group">组别</label>
						</div>
						<div class="input-field col s12 m6">
							<input name="occup" type="text" class="validate" value="{{ database[0][12] }}">
							<label for="occup">担任职务</label>
						</div>
						<div class="progress col s6 offset-s3">
							<div class="determinate" style="width:100%"></div>
						</div>
						<div class="input-field col s12">
							<input disabled name="id" type="text" class="validate" value="{{ database[0][0] }}">
							<label for="id">社联编号</label>
						</div>
						<div class="col s12">
							<label for="dateofjoin">加入社联的时间</label>
							<input name="dateofjoin" type="date" class="datepicker" value="{{ database[0][13] }}">
						</div>
						<div class="progress col s6 offset-s3">
							<div class="determinate green darken-1" style="width:100%"></div>
						</div>
					</div>
					<div class="row valign-wrapper">
						<div class="col s12 m8 offset-m2 l8 offset-l2">
							<div class="col s9 red-text left valign">
								{% for msg in get_flashed_messages() %}
								{{ msg }}
								{% endfor %}
							</div>
							<button class="btn col s3 waves-effect waves-light right" type="submit">提交
								<i class="material-icons right">send</i>
							</button>
						</div>
					</div>
				</form>
			</div>
		</div>



		</main>

		<script>
			/* used in defautChecked of gender radio-select */
			var gen = '{{ database[0][2] }}';
			if (gen == '男') {
				document.getElementById("m").defaultChecked=true;
			}
			else if (gen == '女') {
				document.getElementById("f").defaultChecked=true;
			}


			/* used in selected of department */
			var dpt = '{{ database[0][10] }}';
			switch (dpt) {
				case "财务部":
					document.getElementById("fun").selected=true;
					break;
				case "秘书部":
					document.getElementById("sec").selected=true;
					break;
				case "人力资源部":
					document.getElementById("hr").selected=true;
					break;
				case "社团部":
					document.getElementById("clb").selected=true;
					break;
				case "行政监察部":
					document.getElementById("sup").selected=true;
					break;
				case "外联部":
					document.getElementById("out").selected=true;
					break;
				case "公共关系部":
					document.getElementById("pr").selected=true;
					break;
				case "宣传部":
					document.getElementById("pub").selected=true;
					break;
				case "媒体部":
					document.getElementById("med").selected=true;
					break;
				case "思存工作室":
					document.getElementById("sicun").selected=true;
					break;
				case "新媒体工作室":
					document.getElementById("nmed").selected=true;
					break;
				case "社团外联企划小组":
					document.getElementById("cop").selected=true;
					break;
				case "文艺拓展部":
					document.getElementById("ext").selected=true;
					break;
				default:
					document.getElementById("o").selected=true;
					break;
			}

			/* used in department selection */
			$(document).ready(function() {
			   $('select').material_select();
			   /* used in join-date */
			   $('.datepicker').pickadate({
				   selectMonths: true, // Creates a dropdown to control month
				   selectYears: 15 // Creates a dropdown of 15 years to control year
			   });
			   /* prefilling */
			   Materialize.updateTextFields();
			});
		</script>
	</body>
</html>
